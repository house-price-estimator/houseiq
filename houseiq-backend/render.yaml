services:
  - type: web
    name: houseiq-backend
    env: docker
    dockerfilePath: ./Dockerfile
    dockerContext: .
    envVars:
      - key: SPRING_DATA_MONGODB_URI
        sync: false  # Set manually in Render dashboard
      - key: ML_BASE_URL
        sync: false  # Set to your ML service URL
      - key: JWT_SECRET
        sync: false  # Set manually (use a strong secret)
      - key: JWT_TTL_SECONDS
        value: 86400
      - key: SERVER_PORT
        value: 8080
      - key: ALLOWED_ORIGINS
        sync: false  # Set to your Vercel frontend URL
    healthCheckPath: /actuator/health